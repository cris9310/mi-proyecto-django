{% extends "Base2.html" %} {% load static %} {% block extracontent %}
<div class="col-10">
  {% if notas %} {% for j in student %}
  <div><h5>Nombre: {{j.apellidos}} {{j.nombre}}</h5></div>
  <div><h5>Código: {{j.codigo}}</h5></div>
  <div><h5>Programa: {{j.carrera}}</h5></div>

  {% endfor %}
  <div class="row">
    <h6>Progreso:</h6>
    <div class="col-1">{% widthratio progreso minimo 100%}%</div>
    <div class="col-2">
      <progress id="file" max="{{minimo}}" value="{{progreso}}"></progress>
    </div>
  </div>

  <table class="table table-striped">
    <thead>
      <th>Acciones</th>
      <th>Asignatura</th>
      <th>Corte 1</th>
      <th>Corte 2</th>
      <th>Corte 3</th>
      <th>Promedio</th>
    </thead>
    <tbody>
      {% for i in notas %}
      <tr>
        <td>
          <button
            onclick="abrir_modal_edicion('{% url 'academico_app:detail-topic' i.materia.id %}')"
            class="btn btn-success btn-sm"
            title="Ver"
            data-toggle="tooltip"
          >
            <i class="far fa-eye"></i>
          </button>
        </td>
        <td>{{i.materia.materia.nombre_materia}}</td>
        <td>{{i.corte1}}</td>
        <td>{{i.corte2}}</td>
        <td>{{i.corte3}}</td>
        <td>{{i.promedio}}</td>
      </tr>

      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <h5>El estudiante no tiene materias matriculadas</h5>

  {% endif %}
  <div
    class="modal fade"
    id="edicion"
    data-backdrop="static"
    data-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  ></div>
</div>

<button><a href="javascript: history.go(-1)"> Atrás</a></button>
{% endblock extracontent %} {% block js %}
<script>
  var $ = jQuery.noConflict();
  function abrir_modal_edicion(url) {
    $("#edicion").load(url, function () {
      $(this).modal("show");
    });
  }
</script>
{% endblock js %}
