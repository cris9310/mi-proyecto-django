{% extends "Base2.html" %}
{% load  static %}

{% block extracontent %}

    <div class="grid-x grid-margin-x">
        
        <div class='col-10' style="margin-top: 2em;">
          
          {% if student %}
          <table class="table table-striped">
            <thead>
              <th>Código </th>
              <th>Nombre del estudiante</th>
              <th>Programa</th>
              <th>Acciones</th>
            </thead>
            <tbody>
              {% for estudiante in student %}
                <tr>
                  <td ><a href="">{{estudiante.codigo}}</a></td>
                  <td>{{estudiante.apellidos}} {{estudiante.nombre}}</td>
                  <td>{{estudiante.carrera}}</td>
                  <td>
                    <div class="dropdown show">
                      <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        click
                      </a>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <a class="dropdown-item" href="{% url 'academico_app:update-student' estudiante.pk %}" >editar</a>
                        <a class="dropdown-item" href="{% url 'academico_app:delete-student' estudiante.pk %}" >eliminar</a>
                        
                      </div>
                    </div>
                  </td>
              </tr>
              
              {% endfor %}
            </tbody>
          </table>

          {% else %}
             <p>No hay estudiantes para mostrar</p>
              
          {% endif %}
              
          
        </div>
        <div class="cell">
            
          {% if is_paginated %}
          <nav aria-label="Pagination">
              <ul class="pagination">
                
                {% if page_obj.has_previous %}
                  <li class="pagination-previous">
                     <a href="?page={{page_obj.previous_page_number}}">Atrás</a>
                  </li>   
                {% endif %}
                
                {% for pagina in paginator.page_range  %}
    
                
                {% if pagina == page_obj.number  %} 
                <li class="current"><span class="show-for-sr">You're on page</span>{{ pagina }}</li> 
                {% else %}
                <li><a href="?page={{pagina}}">{{ pagina }}</a></li>   
                {% endif %}
                {% endfor %}
    
                {% if page_obj.has_next %}     
                <li class="pagination-next">
                    <a href="?page={{page_obj.next_page_number}}">siguiente</a>
                  </li>
                {% endif %}
              </ul>
          </nav>
              
          {% endif %}
                
            

        </div>
    </div>
  <div class="modal fade" id="edicion" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"></div>

  </div>
{% endblock extracontent %}

{% block js %}
<script>
  var $=jQuery.noConflict();
  function abrir_modal_edicion(url) {
    $('#edicion').load(url, function(){
        $(this).modal('show');
    });
  }
</script>
{% endblock js %}